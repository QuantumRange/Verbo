<!DOCTYPE html>
<html lang="de" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Verbo - My Account</title>

    <div th:replace="fragments/util :: libarys"></div>
    <link rel="stylesheet" th:href="@{/css/home.css}"/>
</head>

<body>
<div class="page-container">
    <div class="content-wrap">
        <div th:replace="fragments/header :: header"></div>

        <div class="container">
            <div th:if="${error}" class="alert alert-danger" role="alert">
                <h3 th:text="${error}"></h3>
            </div>
            <div th:if="${success}" class="alert alert-success" role="alert">
                <h3 th:text="${success}"></h3>
            </div>

            <h3>Your account</h3>
            Your real name is <b th:text="${user.getUsername()}"></b>, which is only seen by teachers.

            <br/><br/>
            <h4>Nickname</h4>
            <hr/>
            <form action="/myAccount/nickname" method="post">
                <div class="mb-3">
                    <label for="nickname" class="form-label">Nickname</label>
                    <input type="text" class="form-control" id="nickname" name="nickname" th:value="${nickname}"
                           aria-describedby="nicknameHelp">
                    <div id="nicknameHelp" class="form-text">This is visible to everyone</div>
                </div>
                <button type="submit" class="btn btn-primary"><span class="fa-solid fa-user-pen"></span> Change</button>
            </form>

            <br/><br/>
            <h4>Password</h4>
            <hr/>
            <form action="/myAccount/password" method="post">
                <div class="mb-3">
                    <label for="password" class="form-label">Password</label>
                    <input type="password" class="form-control" id="password" name="pw" aria-describedby="passwordHelp">
                </div>
                <div class="mb-3">
                    <label for="passwordSec" class="form-label">Repeat Password</label>
                    <input type="password" class="form-control" id="passwordSec" name="pwRepeat"
                           aria-describedby="passwordHelp">
                </div>
                <button type="submit" class="btn btn-primary"><span class="fa-solid fa-user-pen"></span> Change</button>
            </form>

            <br/><br/>
            <h4>Algorithm</h4>
            <hr/>
            <a class="btn btn-primary" href="/setting/learn" role="button">
                Customize learning algorithm
            </a>

            <br/><br/>
            <h4>What we know about you</h4>
            <hr/>

            <table class="table table-striped table-hover">
                <thead>
                <tr>
                    <th scope="col">Key</th>
                    <th scope="col">Value</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <th scope="row">Username</th>
                    <td th:text="${user.getUsername()}"></td>
                </tr>
                <tr>
                    <th scope="row">Nickname</th>
                    <td th:text="${user.getDisplayName()}"></td>
                </tr>
                <tr>
                    <th scope="row">Password</th>
                    <td>We don't know your password</td>
                </tr>
                <tr>
                    <th scope="row">Learned Words</th>
                    <td th:text="${amount}"></td>
                </tr>
                <tr th:each="key : ${user.getMeta().keySet()}">
                    <!--/*@thymesVar id="key" type="de.quantumrange.verbo.model.MetaKey"*/-->
                    <th scope="row" th:text="${key.getDisplay()}"></th>
                    <td th:text="${user.get(key)}"></td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div th:replace="fragments/header :: footer"></div>
</div>
</body>
</html>